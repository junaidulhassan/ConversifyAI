Portkey Docs Introduction to GPT-4o This notebook is from OpenAI Cookbooks , enhanced with Portkey observability and features GPT-4o ("o"
for "omni") is designed to handle a combination of text, audio, and video inputs, and can generate outputs in text,
audio, and image formats. Currently, the API supports {text, image} inputs only, with {text} outputs, the same modalities as gpt-4-turbo
. Additional modalities, including audio, will be introduced soon . This guide will help you get started with using GPT-4o
for text, image, and video understanding. First, grab your OpenAI API key here . Now, let's start with a simple
{text} input to the model for our first request. We'll use both system and user messages for our first request,
and we'll receive a response from the assistant role. GPT-4o can directly process images and take intelligent actions based on
the image. We can provide images in two formats: Base64 Encoded URL Let's first view the image we'll use, then
try sending this image as both Base64 and as a URL link to the API While it's not possible to
directly send a video to the API, GPT-4o can understand videos if you sample frames and then provide them as
images. It performs better at this task than GPT-4 Turbo. Since GPT-4o in the API does not yet support audio-in
(as of May 2024), we'll use a combination of GPT-4o and Whisper to process both the audio and visual for
a provided video, and showcase two usecases: Summarization Question and Answering We'll use two python packages for video processing -
opencv-python and moviepy. These require ffmpeg , so make sure to install this beforehand. Depending on your OS, you may
need to run brew install ffmpeg or sudo apt install ffmpeg Now that we have both the video frames and
the audio, let's run a few different tests to generate a video summary to compare the results of using the
models with different modalities. We should expect to see that the summary generated with context from both visual and audio
inputs will be the most accurate, as the model is able to use the entire context from the video. Visual
Summary Audio Summary Visual + Audio Summary The visual summary is generated by sending the model only the frames from
the video. With just the frames, the model is likely to capture the visual aspects, but will miss any details
discussed by the speaker. The model is able to capture the high level aspects of the video visuals, but misses
the details provided in the speech. The audio summary is generated by sending the model the audio transcript. With just
the audio, the model is likely to bias towards the audio content, and will miss the context provided by the
presentations and visuals. {audio} input for GPT-4o isn't currently available but will be coming soon! For now, we use our
existing whisper-1 model to process the audio The audio summary might be biased towards the content discussed during the speech,
but comes out with much less structure than the video summary. The Audio + Visual summary is generated by sending
the model both the visual and the audio from the video at once. When sending both of these, the model
is expected to better summarize since it can perceive the entire video at once. After combining both the video and
audio, you'll be able to get a much more detailed and comprehensive summary for the event which uses information from
both the visual and audio elements from the video. For the Q&A, we'll use the same concept as before to
ask questions of our processed video while running the same 3 tests to demonstrate the benefit of combining input modalities:
Visual Q&A Audio Q&A Visual + Audio Q&A Comparing the three answers, the most accurate answer is generated by using
both the audio and visual from the video. Sam Altman did not discuss the raising windows or radio on during
the Keynote, but referenced an improved capability for the model to execute multiple functions in a single request while the
examples were shown behind him. Integrating many input modalities such as audio, visual, and textual, significantly enhances the performance of
the model on a diverse range of tasks. This multimodal approach allows for more comprehensive understanding and interaction, mirroring more
closely how humans perceive and process information. Last updated 2 months ago Was this helpful? This notebook is from OpenAI
Cookbooks , enhanced with Portkey observability and features Copy Visual QA: Sam Altman used the example about raising windows and
turning the radio on to demonstrate the function calling capability of GPT-4 Turbo. The example illustrated how the model can
interpret and execute multiple commands in a more structured and efficient manner. The "before" and "after" comparison showed how the
model can now directly call functions like `raise_windows()` and `radio_on()` based on natural language instructions, showcasing improved control and functionality.
Copy Audio QA: The provided transcription does not include any mention of Sam Altman or an example about raising windows
and turning the radio on. Therefore, I cannot provide an answer based on the given transcription. Copy Both QA: Sam
Altman used the example of raising windows and turning the radio on to demonstrate the improved function calling capabilities of
GPT-4 Turbo. The example illustrated how the model can now handle multiple function calls more effectively and follow instructions better.
In the "before" scenario, the model had to be prompted separately for each action, whereas in the "after" scenario, the
model could handle both actions in a single prompt, showcasing its enhanced ability to manage and execute multiple tasks simultaneously.
Welcome What is Portkey? Make Your First Request Integration Guides OpenAI Anthropic Google Gemini Groq Azure OpenAI AWS Bedrock Google
Vertex AI Langchain (Python) Langchain (JS/TS) LlamaIndex (Python) Autogen Instructor Promptfoo Vercel Bring Your Own LLM Anyscale Fireworks Cohere Deepinfra
Google Palm Jina AI LocalAI Mistral AI Monster API Nomic Ollama Perplexity AI Predibase Segmind Stability AI Together AI ZhipuAI
/ ChatGLM / BigModel Suggest a new integration! What is Portkey? Make Your First Request Integration Guides OpenAI Anthropic Google
Gemini Groq Azure OpenAI AWS Bedrock Google Vertex AI Langchain (Python) Langchain (JS/TS) LlamaIndex (Python) Autogen Instructor Promptfoo Vercel Bring
Your Own LLM Anyscale Fireworks Cohere Deepinfra Google Palm Jina AI LocalAI Mistral AI Monster API Nomic Ollama Perplexity AI
Predibase Segmind Stability AI Together AI ZhipuAI / ChatGLM / BigModel Suggest a new integration! OpenAI Anthropic Google Gemini Groq
Azure OpenAI AWS Bedrock Google Vertex AI Langchain (Python) Langchain (JS/TS) LlamaIndex (Python) Autogen Instructor Promptfoo Vercel Bring Your Own
LLM Anyscale Fireworks Cohere Deepinfra Google Palm Jina AI LocalAI Mistral AI Monster API Nomic Ollama Perplexity AI Predibase Segmind
Stability AI Together AI ZhipuAI / ChatGLM / BigModel Suggest a new integration! Product Observability Analytics Logs Traces Feedback Metadata
Filters Logs Export Budget Limits AI Gateway Universal API Configs Multimodal Capabilities Image Generation Function Calling Vision Speech-to-Text Text-to-Speech Cache
(Simple & Semantic) Fallbacks Automatic Retries Load Balancing Canary Testing Virtual Keys Budget Limits Request Timeouts Prompt Library Prompt Templates
Prompt Partials Retrieve Prompts Advanced Prompting with JSON Mode Guardrails List of Guardrail Checks Aporia Creating Raw Guardrails (in JSON)
Autonomous Fine-tuning Enterprise Offering Org Management Organizations Workspaces User Roles & Permissions API Keys (AuthN and AuthZ) Access Control Management
Budget Limits Security @ Portkey Logs Export Private Cloud Deployments Architecture AWS GCP Azure Cloudflare Workers F5 App Stack Open
Source Observability Analytics Logs Traces Feedback Metadata Filters Logs Export Budget Limits Analytics Logs Traces Feedback Metadata Filters Logs Export
Budget Limits AI Gateway Universal API Configs Multimodal Capabilities Image Generation Function Calling Vision Speech-to-Text Text-to-Speech Cache (Simple & Semantic)
Fallbacks Automatic Retries Load Balancing Canary Testing Virtual Keys Budget Limits Request Timeouts Universal API Configs Multimodal Capabilities Image Generation
Function Calling Vision Speech-to-Text Text-to-Speech Image Generation Function Calling Vision Speech-to-Text Text-to-Speech Cache (Simple & Semantic) Fallbacks Automatic Retries Load
Balancing Canary Testing Virtual Keys Budget Limits Budget Limits Request Timeouts Prompt Library Prompt Templates Prompt Partials Retrieve Prompts Advanced
Prompting with JSON Mode Prompt Templates Prompt Partials Retrieve Prompts Advanced Prompting with JSON Mode Guardrails List of Guardrail Checks
Aporia Creating Raw Guardrails (in JSON) List of Guardrail Checks Aporia Aporia Creating Raw Guardrails (in JSON) Autonomous Fine-tuning Enterprise
Offering Org Management Organizations Workspaces User Roles & Permissions API Keys (AuthN and AuthZ) Access Control Management Budget Limits Security
@ Portkey Logs Export Private Cloud Deployments Architecture AWS GCP Azure Cloudflare Workers F5 App Stack Org Management Organizations Workspaces
User Roles & Permissions API Keys (AuthN and AuthZ) Organizations Workspaces User Roles & Permissions API Keys (AuthN and AuthZ)
Access Control Management Budget Limits Security @ Portkey Logs Export Private Cloud Deployments Architecture AWS GCP Azure Cloudflare Workers F5
App Stack Architecture AWS GCP Azure Cloudflare Workers F5 App Stack Open Source API Reference Introduction Authentication OpenAPI Specification Headers
Response Schema Gateway Config Object SDK Introduction Authentication OpenAPI Specification Headers Response Schema Gateway Config Object SDK Provider Endpoints Supported
Providers Chat Embeddings Images Create Image Create Image Edit Create Image Variation Audio Create Speech Create Transcription Create Translation Fine-tuning
Create Fine-tuning Job List Fine-tuning Jobs Retrieve Fine-tuning Job List Fine-tuning Events List Fine-tuning Checkpoints Cancel Fine-tuning Batch Create Batch
List Batch Retrieve Batch Cancel Batch Files Upload File List Files Retrieve File Retrieve File Content Delete File Moderations Assistants
API Assistants Create Assistant List Assistants Retrieve Assistant Modify Assistant Delete Assistant Threads Create Thread Retrieve Thread Modify Thread Delete
Thread Messages Create Message List Messages Retrieve Message Modify Message Delete Message Runs Create Run Create Thread and Run List
Runs Retrieve Run Modify Run Submit Tool Outputs to Run Cancel Run Run Steps List Run Steps Retrieve Run Steps
Completions Gateway for Other API Endpoints Supported Providers Chat Embeddings Images Create Image Create Image Edit Create Image Variation Create
Image Create Image Edit Create Image Variation Audio Create Speech Create Transcription Create Translation Create Speech Create Transcription Create Translation
Fine-tuning Create Fine-tuning Job List Fine-tuning Jobs Retrieve Fine-tuning Job List Fine-tuning Events List Fine-tuning Checkpoints Cancel Fine-tuning Create Fine-tuning
Job List Fine-tuning Jobs Retrieve Fine-tuning Job List Fine-tuning Events List Fine-tuning Checkpoints Cancel Fine-tuning Batch Create Batch List Batch
Retrieve Batch Cancel Batch Create Batch List Batch Retrieve Batch Cancel Batch Files Upload File List Files Retrieve File Retrieve
File Content Delete File Upload File List Files Retrieve File Retrieve File Content Delete File Moderations Assistants API Assistants Create
Assistant List Assistants Retrieve Assistant Modify Assistant Delete Assistant Threads Create Thread Retrieve Thread Modify Thread Delete Thread Messages Create
Message List Messages Retrieve Message Modify Message Delete Message Runs Create Run Create Thread and Run List Runs Retrieve Run
Modify Run Submit Tool Outputs to Run Cancel Run Run Steps List Run Steps Retrieve Run Steps Assistants Create Assistant
List Assistants Retrieve Assistant Modify Assistant Delete Assistant Create Assistant List Assistants Retrieve Assistant Modify Assistant Delete Assistant Threads Create
Thread Retrieve Thread Modify Thread Delete Thread Create Thread Retrieve Thread Modify Thread Delete Thread Messages Create Message List Messages
Retrieve Message Modify Message Delete Message Create Message List Messages Retrieve Message Modify Message Delete Message Runs Create Run Create
Thread and Run List Runs Retrieve Run Modify Run Submit Tool Outputs to Run Cancel Run Create Run Create Thread
and Run List Runs Retrieve Run Modify Run Submit Tool Outputs to Run Cancel Run Run Steps List Run Steps
Retrieve Run Steps List Run Steps Retrieve Run Steps Completions Gateway for Other API Endpoints Portkey Endpoints Configs Create Config
List Configs Retrieve Config Update Config Feedback Create Feedback Update Feedback Guardrails Logs Prompts Prompt Completion Render Virtual Keys Create
Virtual Key List Virtual Keys Retrieve Virtual Key Update Virtual Key Delete Virtual Key Admin Users Retrieve a User Retrieve
All Users Update a User Remove a User User Invites Invite a User Retrieve an Invite Retrieve All User Invites
Delete a User Invite Workspaces Create Workspace Retrieve All Workspaces Retrieve a Workspace Update Workspace Workspace Members Add a Workspace
Member Retrieve All Workspace Members Retrieve a Workspace Member Update Workspace Member Remove Workspace Member Configs Create Config List Configs
Retrieve Config Update Config Create Config List Configs Retrieve Config Update Config Feedback Create Feedback Update Feedback Create Feedback Update
Feedback Guardrails Logs Prompts Prompt Completion Render Prompt Completion Render Virtual Keys Create Virtual Key List Virtual Keys Retrieve Virtual
Key Update Virtual Key Delete Virtual Key Create Virtual Key List Virtual Keys Retrieve Virtual Key Update Virtual Key Delete
Virtual Key Admin Users Retrieve a User Retrieve All Users Update a User Remove a User User Invites Invite a
User Retrieve an Invite Retrieve All User Invites Delete a User Invite Workspaces Create Workspace Retrieve All Workspaces Retrieve a
Workspace Update Workspace Workspace Members Add a Workspace Member Retrieve All Workspace Members Retrieve a Workspace Member Update Workspace Member
Remove Workspace Member Users Retrieve a User Retrieve All Users Update a User Remove a User Retrieve a User Retrieve
All Users Update a User Remove a User User Invites Invite a User Retrieve an Invite Retrieve All User Invites
Delete a User Invite Invite a User Retrieve an Invite Retrieve All User Invites Delete a User Invite Workspaces Create
Workspace Retrieve All Workspaces Retrieve a Workspace Update Workspace Create Workspace Retrieve All Workspaces Retrieve a Workspace Update Workspace Workspace
Members Add a Workspace Member Retrieve All Workspace Members Retrieve a Workspace Member Update Workspace Member Remove Workspace Member Add
a Workspace Member Retrieve All Workspace Members Retrieve a Workspace Member Update Workspace Member Remove Workspace Member Guides Getting Started
A/B Test Prompts and Models Tackling Rate Limiting Function Calling Image Generation Getting started with AI Gateway Llama 3 on
Groq Return Repeat Requests from Cache Trigger Automatic Retries on LLM Failures 101 on Portkey's Gateway Configs Integrations Llama 3
on Portkey + Together AI Introduction to GPT-4o Anyscale Mistral Vercel AI Deepinfra Groq Langchain Mixtral 8x22b Segmind Use Cases
Few-Shot Prompting Enforcing JSON Schema with Anyscale & Together Detecting Emotions with GPT-4o Build an article suggestion app with Supabase
pgvector, and Portkey Setting up resilient Load balancers with failure-mitigating Fallbacks Run Portkey on Prompts from Langchain Hub Smart Fallback
with Model-Optimized Prompts How to use OpenAI SDK with Portkey Prompt Templates Setup OpenAI -> Azure OpenAI Fallback Fallback from
SDXL to Dall-e-3 Comparing Top10 LMSYS Models with Portkey Getting Started A/B Test Prompts and Models Tackling Rate Limiting Function
Calling Image Generation Getting started with AI Gateway Llama 3 on Groq Return Repeat Requests from Cache Trigger Automatic Retries
on LLM Failures 101 on Portkey's Gateway Configs A/B Test Prompts and Models Tackling Rate Limiting Function Calling Image Generation
Getting started with AI Gateway Llama 3 on Groq Return Repeat Requests from Cache Trigger Automatic Retries on LLM Failures
101 on Portkey's Gateway Configs Integrations Llama 3 on Portkey + Together AI Introduction to GPT-4o Anyscale Mistral Vercel AI
Deepinfra Groq Langchain Mixtral 8x22b Segmind Llama 3 on Portkey + Together AI Introduction to GPT-4o Anyscale Mistral Vercel AI
Deepinfra Groq Langchain Mixtral 8x22b Segmind Use Cases Few-Shot Prompting Enforcing JSON Schema with Anyscale & Together Detecting Emotions with
GPT-4o Build an article suggestion app with Supabase pgvector, and Portkey Setting up resilient Load balancers with failure-mitigating Fallbacks Run
Portkey on Prompts from Langchain Hub Smart Fallback with Model-Optimized Prompts How to use OpenAI SDK with Portkey Prompt Templates
Setup OpenAI -> Azure OpenAI Fallback Fallback from SDXL to Dall-e-3 Comparing Top10 LMSYS Models with Portkey Few-Shot Prompting Enforcing
JSON Schema with Anyscale & Together Detecting Emotions with GPT-4o Build an article suggestion app with Supabase pgvector, and Portkey
Setting up resilient Load balancers with failure-mitigating Fallbacks Run Portkey on Prompts from Langchain Hub Smart Fallback with Model-Optimized Prompts
How to use OpenAI SDK with Portkey Prompt Templates Setup OpenAI -> Azure OpenAI Fallback Fallback from SDXL to Dall-e-3
Comparing Top10 LMSYS Models with Portkey Support Contact Us Developer Forum Common Errors & Resolutions December '23 Migration Changelog Contact
Us Developer Forum Common Errors & Resolutions December '23 Migration Changelog Base64 Encoded URL Summarization Question and Answering Visual Summary
Audio Summary Visual + Audio Summary Visual Q&A Audio Q&A Visual + Audio Q&A The GPT-4o Model Current Capabilities Getting
Started Install OpenAI SDK for Python Configure the OpenAI Client Image Processing Video Processing Setup for Video Processing Process the
video into two components: frames and audio Example 1: Summarization Example 2: Question and Answering Conclusion
